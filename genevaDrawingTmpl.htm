<svg width="500" height="350" viewBox="{{viewBox()}}" style="border: 1px solid blue;">


    <defs>
        <mask id="gWheelMask">
            <circle ng-attr-cx="{{gWheel.x()}}"
                ng-attr-cy="{{gWheel.y()}}"
                ng-attr-r="{{gWheel.radius()}}"
                fill="white" />

            <g ng-repeat="position in gWheel.slotPositions()"
                ng-attr-transform="rotate({{position}} {{gWheel.x()}} {{gWheel.y()}})">

                <rect ng-attr-x="{{gWheel.x() + gWheel.radius() - gWheel.slotDepth() - gWheel.slotWidth()}}"
                    ng-attr-y="{{gWheel.y() - (gWheel.slotWidth() / 2)}}" 
	                ng-attr-width="{{gWheel.slotDepth() + (2 * gWheel.slotWidth())}}"
                    ng-attr-height="{{gWheel.slotWidth()}}"
	                ng-attr-rx="{{(gWheel.slotWidth() / 2)}}"
                    ng-attr-ry="{{(gWheel.slotWidth() / 2)}}"
                    fill="black"/>

            </g>
        </mask>
    </defs>
    
    <g id="gDrive">
        <circle ng-attr-cx="{{gDrive.x()}}" ng-attr-cy="{{gDrive.y()}}" ng-attr-r="{{gDrive.radius()}}" />
    </g>

    <g id="gWheel">
        <circle ng-attr-cx="{{gWheel.x()}}"
            ng-attr-cy="{{gWheel.y()}}"
            ng-attr-r="{{gWheel.radius()}}"
            mask="url(#gWheelMask)"
            fill="blue"/>



    </g>



</svg>